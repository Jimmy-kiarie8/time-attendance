import{T as q,r as b,o as g,c as P,w as n,f as i,d as x,a as t,b as o,m as y,J as h,I as B,h as _,e as V,u as l,j,Y as F,n as A,R as E}from"./app-kuiK7TtZ.js";import{_ as R}from"./ActionMessage-lutm9ES2.js";import{_ as D}from"./FormSection-DBqDZkEB.js";import{_ as d}from"./InputError-CHaB-Pjm.js";import{_ as u}from"./InputLabel-BNDxgu7J.js";import{_ as M}from"./PrimaryButton-Cp51bM-r.js";import{_ as S}from"./SecondaryButton-CCZtEp-E.js";import{_ as c}from"./TextInput-hjGjZe_E.js";import"./SectionTitle-DCfOM1ZM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const T={key:0,class:"col-span-6 sm:col-span-4"},z={class:"mt-2"},L=["src","alt"],O={class:"mt-2"},Y={class:"col-span-6 sm:col-span-4"},G={class:"col-span-6 sm:col-span-4"},J={key:0},H={class:"text-sm mt-2"},K={class:"mt-2 font-medium text-sm text-green-600"},Q={class:"col-span-6 sm:col-span-4"},W={class:"col-span-6 sm:col-span-4"},X={class:"col-span-6 sm:col-span-4"},Z={class:"col-span-6 sm:col-span-4"},ee={class:"col-span-6 sm:col-span-4"},me={__name:"UpdateProfileInformationForm",props:{user:Object},setup(f){const m=f,s=q({_method:"PUT",name:m.user.name,email:m.user.email,phone:m.user.phone,address:m.user.address,dob:m.user.dob,city:m.user.city,gender:m.user.gender,photo:null}),k=b(null),v=b(null),p=b(null),U=()=>{p.value&&(s.photo=p.value.files[0]),s.post(route("user-profile-information.update"),{errorBag:"updateProfileInformation",preserveScroll:!0,onSuccess:()=>w()})},C=()=>{k.value=!0},$=()=>{p.value.click()},I=()=>{const r=p.value.files[0];if(!r)return;const e=new FileReader;e.onload=a=>{v.value=a.target.result},e.readAsDataURL(r)},N=()=>{E.delete(route("current-user-photo.destroy"),{preserveScroll:!0,onSuccess:()=>{v.value=null,w()}})},w=()=>{var r;(r=p.value)!=null&&r.value&&(p.value.value=null)};return(r,e)=>(g(),P(D,{onSubmitted:U},{title:n(()=>e[7]||(e[7]=[i(" Profile Information ")])),description:n(()=>e[8]||(e[8]=[i(" Update your account's profile information and email address. ")])),form:n(()=>[r.$page.props.jetstream.managesProfilePhotos?(g(),x("div",T,[t("input",{ref_key:"photoInput",ref:p,type:"file",class:"hidden",onChange:I},null,544),o(u,{for:"photo",value:"Photo"}),y(t("div",z,[t("img",{src:f.user.profile_photo_url,alt:f.user.name,class:"rounded-full h-20 w-20 object-cover"},null,8,L)],512),[[h,!v.value]]),y(t("div",O,[t("span",{class:"block rounded-full w-20 h-20 bg-cover bg-no-repeat bg-center",style:B("background-image: url('"+v.value+"');")},null,4)],512),[[h,v.value]]),o(S,{class:"mt-2 mr-2",type:"button",onClick:_($,["prevent"])},{default:n(()=>e[9]||(e[9]=[i(" Select A New Photo ")])),_:1}),f.user.profile_photo_path?(g(),P(S,{key:0,type:"button",class:"mt-2",onClick:_(N,["prevent"])},{default:n(()=>e[10]||(e[10]=[i(" Remove Photo ")])),_:1})):V("",!0),o(d,{message:l(s).errors.photo,class:"mt-2"},null,8,["message"])])):V("",!0),t("div",Y,[o(u,{for:"name",value:"Name"}),o(c,{id:"name",modelValue:l(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).name=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"name"},null,8,["modelValue"]),o(d,{message:l(s).errors.name,class:"mt-2"},null,8,["message"])]),t("div",G,[o(u,{for:"email",value:"Email"}),o(c,{id:"email",modelValue:l(s).email,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).email=a),type:"email",class:"mt-1 block w-full",required:"",autocomplete:"username"},null,8,["modelValue"]),o(d,{message:l(s).errors.email,class:"mt-2"},null,8,["message"]),r.$page.props.jetstream.hasEmailVerification&&f.user.email_verified_at===null?(g(),x("div",J,[t("p",H,[e[12]||(e[12]=i(" Your email address is unverified. ")),o(l(j),{href:r.route("verification.send"),method:"post",as:"button",class:"underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:_(C,["prevent"])},{default:n(()=>e[11]||(e[11]=[i(" Click here to re-send the verification email. ")])),_:1},8,["href"])]),y(t("div",K," A new verification link has been sent to your email address. ",512),[[h,k.value]])])):V("",!0)]),t("div",Q,[o(u,{for:"phone",value:"Phone"}),o(c,{id:"phone",modelValue:l(s).phone,"onUpdate:modelValue":e[2]||(e[2]=a=>l(s).phone=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"phone"},null,8,["modelValue"]),o(d,{message:l(s).errors.phone,class:"mt-2"},null,8,["message"])]),t("div",W,[o(u,{for:"address",value:"Address"}),o(c,{id:"address",modelValue:l(s).address,"onUpdate:modelValue":e[3]||(e[3]=a=>l(s).address=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"address"},null,8,["modelValue"]),o(d,{message:l(s).errors.address,class:"mt-2"},null,8,["message"])]),t("div",X,[o(u,{for:"city",value:"City"}),o(c,{id:"city",modelValue:l(s).city,"onUpdate:modelValue":e[4]||(e[4]=a=>l(s).city=a),type:"text",class:"mt-1 block w-full",required:"",autocomplete:"city"},null,8,["modelValue"]),o(d,{message:l(s).errors.city,class:"mt-2"},null,8,["message"])]),t("div",Z,[o(u,{for:"dob",value:"Date Of Birth"}),o(c,{id:"dob",modelValue:l(s).dob,"onUpdate:modelValue":e[5]||(e[5]=a=>l(s).dob=a),type:"date",class:"mt-1 block w-full",required:"",autocomplete:"dob"},null,8,["modelValue"]),o(d,{message:l(s).errors.dob,class:"mt-2"},null,8,["message"])]),t("div",ee,[o(u,{for:"gender",value:"Gender"}),y(t("select",{class:"block appearance-none w-full bg-gray-200 border border-gray-200 text-gray-700 py-3 px-4 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500",id:"grid-state","onUpdate:modelValue":e[6]||(e[6]=a=>l(s).gender=a)},e[13]||(e[13]=[t("option",null,"Male",-1),t("option",null,"Female",-1)]),512),[[F,l(s).gender]]),o(d,{message:l(s).errors.gender,class:"mt-2"},null,8,["message"])])]),actions:n(()=>[o(R,{on:l(s).recentlySuccessful,class:"mr-3"},{default:n(()=>e[14]||(e[14]=[i(" Saved. ")])),_:1},8,["on"]),o(M,{class:A({"opacity-25":l(s).processing}),disabled:l(s).processing},{default:n(()=>e[15]||(e[15]=[i(" Save ")])),_:1},8,["class","disabled"])]),_:1}))}};export{me as default};
