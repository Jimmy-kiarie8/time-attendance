import{a2 as k,ae as H,a7 as _,b as n,af as R,$ as D,ag as b,l as I,ab as C,y as M,ah as z,ai as L,aj as U,ak as Y,al as G,am as J}from"./app-C40yS1Zs.js";const K=D({allDay:Boolean,interval:Object,intervalDivisions:{type:Number,required:!0},intervalDuration:{type:Number,required:!0},intervalHeight:{type:Number,required:!0},event:Object},"VCalendarIntervalEvent"),B=k()({name:"VCalendarIntervalEvent",props:K(),setup(e){const v=H(),i=()=>{var t,a,d,l;if(!((t=e.event)!=null&&t.first)&&!((a=e.event)!=null&&a.last)||v.isEqual((d=e.event)==null?void 0:d.start,(l=e.interval)==null?void 0:l.start))return{height:"100%",margin:b(0)};{const{height:c,margin:u}=Array.from({length:e.intervalDivisions},r=>r*(e.intervalDuration/e.intervalDivisions)).reduce((r,g,y)=>{var h,f;return v.isBefore(v.addMinutes((h=e.interval)==null?void 0:h.start,g),(f=e.event)==null?void 0:f.start)?{height:b(e.intervalHeight/e.intervalDivisions*y),margin:b(e.intervalHeight/e.intervalDivisions*y)}:{height:r.height,margin:r.margin}},{height:"",margin:""});return{height:c,margin:u}}};return _(()=>{var t,a,d,l,c;return n(R,{height:i().height,density:"comfortable",style:`margin-top: ${i().margin}`,class:"v-calendar-internal-event",color:((t=e.event)==null?void 0:t.color)??void 0,rounded:(a=e.event)!=null&&a.first&&((d=e.event)!=null&&d.last)?!0:(l=e.event)!=null&&l.first?"t":(c=e.event)!=null&&c.last?"b":!1},{default:()=>{var u,r;return[(u=e.event)!=null&&u.first?(r=e.event)==null?void 0:r.title:""]}})}),{}}}),q=D({day:{type:Object,default:()=>({})},dayIndex:Number,events:Array,intervalDivisions:{type:Number,default:2},intervalDuration:{type:Number,default:60},intervalHeight:{type:Number,default:48},intervalFormat:{type:[String,Function],default:"fullTime12h"},intervalStart:{type:Number,default:0}},"VCalendarInterval"),$=k()({name:"VCalendarInterval",props:{index:{type:Number,required:!0},...q()},setup(e,v){const i=H(),t=I(()=>{const a=i.addMinutes(i.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart)),d=i.addMinutes(i.startOfDay(e.day.date),e.intervalDuration*(e.index+e.intervalStart+1)-1);return{...e.day,label:i.format(a,"fullTime24h"),start:a,end:d,events:e.events?e.events.filter(l=>!l.allDay&&(i.isEqual(a,l.start)||i.isWithinRange(l.start,[a,d])||i.isWithinRange(a,[l.start,l.end])||i.isEqual(d,l.end))).map(l=>({...l,first:i.isEqual(a,l.start)||i.isWithinRange(l.start,[a,d]),last:i.isEqual(d,l.end)||i.isWithinRange(l.end,[a,d])})):[]}});return _(()=>{var a,d;return e.dayIndex===0?n("div",{class:"v-calendar-day__row-with-label",style:`height: ${b(e.intervalHeight)}`},[n("div",{class:"v-calendar-day__row-label"},[n("slot",{name:"intervalFormat",interval:t.value},[e.index?e.intervalFormat?typeof e.intervalFormat=="string"?i.format(t.value.start,"hours12h"):e.intervalFormat(t.value):t.value.label:""])]),n("div",{class:"v-calendar-day__row-hairline"},null),n("div",{class:["v-calendar-day__row-content",t.value.events.some(l=>!l.last)?"v-calendar-day__row-content-through":""]},[n("slot",{name:"intervalBody",interval:t.value},[(a=t.value.events)==null?void 0:a.map(l=>n(B,{event:l,interval:t.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])]):n("div",{class:"v-calendar-day__row-without-label",style:`height: ${b(e.intervalHeight)}`},[n("div",{class:["v-calendar-day__row-content",t.value.events.some(l=>!l.last)?"v-calendar-day__row-content-through":""]},[n("slot",{name:"intervalBody",interval:t.value},[(d=t.value.events)==null?void 0:d.filter(l=>!l.allDay).map(l=>n(B,{event:l,interval:t.value,intervalDivisions:e.intervalDivisions,intervalDuration:e.intervalDuration,intervalHeight:e.intervalHeight},null))])])])}),{interval:t}}}),j=D({hideDayHeader:Boolean,intervals:{type:Number,default:24},...q()},"VCalendarDay"),S=k()({name:"VCalendarDay",props:j(),setup(e){const v=H(),i=I(()=>[...Array.from({length:e.intervals},(t,a)=>a).filter((t,a)=>e.intervalDuration*(a+e.intervalStart)<1440)]);return _(()=>{const t=$.filterProps(e);return n("div",{class:"v-calendar-day__container"},[!e.hideDayHeader&&n("div",{key:"calender-week-name",class:"v-calendar-weekly__head-weekday"},[v.format(e.day.date,"weekdayShort"),n("div",null,[n(C,{icon:!0,text:v.format(e.day.date,"dayOfMonth"),variant:"text"},null)])]),i.value.map((a,d)=>n($,M({index:d},t),null))])}),{intervals:i}}}),F=D({nextIcon:{type:String,default:"$next"},prevIcon:{type:String,default:"$prev"},title:String,text:{type:String,default:"$vuetify.calendar.today"},viewMode:{type:String,default:"month"}},"VCalendarHeader"),T=k()({name:"VCalendarHeader",props:F(),emits:{"click:next":()=>!0,"click:prev":()=>!0,"click:toToday":()=>!0},setup(e,v){let{emit:i}=v;const{t}=z();function a(){i("click:prev")}function d(){i("click:next")}function l(){i("click:toToday")}return _(()=>n("div",{class:"v-calendar-header"},[e.text&&n(C,{key:"today",class:"v-calendar-header__today",text:t(e.text),variant:"outlined",onClick:l},null),n(C,{density:"comfortable",icon:e.prevIcon,variant:"text",onClick:a},null),n(C,{density:"comfortable",icon:e.nextIcon,variant:"text",onClick:d},null),n("div",{class:"v-calendar-header__title"},[e.title])])),{}}}),Q=D({allDay:Boolean,day:Object,event:Object},"VCalendarEvent"),O=k()({name:"VCalendarEvent",props:Q(),setup(e){return _(()=>n(U,{color:e.allDay?"primary":void 0,density:"comfortable",label:e.allDay,width:"100%"},{default:()=>{var v,i;return[n(L,{inline:!0,dot:!0,color:(v=e.event)==null?void 0:v.color},null),(i=e.event)==null?void 0:i.title]}})),{}}}),X=D({active:Boolean,color:String,day:Object,disabled:Boolean,events:Array,title:[Number,String]},"VCalendarMonthDay"),Z=k()({name:"VCalendarMonthDay",props:X(),setup(e,v){let{emit:i,slots:t}=v;return _(()=>{var d,l,c,u,r,g,y,h,f,V,x;const a=!!(e.title||(d=t.title)!=null&&d.call(t,{title:e.title}));return n("div",{class:["v-calendar-month__day"]},[!((l=e.day)!=null&&l.isHidden)&&a&&n("div",{key:"title",class:"v-calendar-weekly__day-label"},[((c=t.title)==null?void 0:c.call(t,{title:e.title}))??n(C,{class:(u=e.day)!=null&&u.isToday?"v-calendar-weekly__day-label__today":void 0,color:e.color,disabled:e.disabled,icon:!0,size:"x-small",variant:(r=e.day)!=null&&r.isToday?void 0:"flat"},{default:()=>[e.title]})]),!((g=e.day)!=null&&g.isHidden)&&n("div",{key:"content",class:"v-calendar-weekly__day-content"},[((y=t.content)==null?void 0:y.call(t))??n("div",null,[n("div",{class:"v-calendar-weekly__day-alldayevents-container"},[(h=e.events)==null?void 0:h.filter(s=>s.allDay).map(s=>t.event?t.event({day:e.day,allDay:!0,event:s}):n(O,{day:e.day,event:s,allDay:!0},null))]),n("div",{class:"v-calendar-weekly__day-events-container"},[(f=e.events)==null?void 0:f.filter(s=>!s.allDay).map(s=>t.event?t.event({day:e.day,event:s,allDay:!1}):n(O,{day:e.day,event:s},null))])])]),!((V=e.day)!=null&&V.isHidden)&&((x=t.default)==null?void 0:x.call(t))])}),{}}}),p=D({hideHeader:Boolean,hideWeekNumber:Boolean,...Y(),...j(),...F()},"VCalender"),ae=k()({name:"VCalendar",props:p(),emits:{next:null,prev:null,"update:modelValue":null},setup(e,v){let{emit:i,slots:t}=v;const a=H(),{daysInMonth:d,daysInWeek:l,genDays:c,model:u,displayValue:r,weekNumbers:g,weekDays:y}=G(e),h=a.getWeekdays();function f(){e.viewMode==="month"&&(u.value=[a.addMonths(r.value,1)]),e.viewMode==="week"&&(u.value=[a.addDays(r.value,7)]),e.viewMode==="day"&&(u.value=[a.addDays(r.value,1)])}function V(){e.viewMode==="month"&&(u.value=[a.addMonths(r.value,-1)]),e.viewMode==="week"&&(u.value=[a.addDays(r.value,-7)]),e.viewMode==="day"&&(u.value=[a.addDays(r.value,-1)])}function x(){u.value=[a.date()]}const s=I(()=>a.format(r.value,"monthAndYear"));return _(()=>{var W;const P=S.filterProps(e),A=T.filterProps(e);return n("div",{class:["v-calendar",{"v-calendar-monthly":e.viewMode==="month","v-calendar-weekly":e.viewMode==="week","v-calendar-day":e.viewMode==="day"}]},[n("div",null,[!e.hideHeader&&(t.header?t.header({title:s.value}):n(T,M({key:"calendar-header"},A,{title:s.value,"onClick:next":f,"onClick:prev":V,"onClick:toToday":x}),null))]),n("div",{class:["v-calendar__container",`days__${y.value.length}`]},[e.viewMode==="month"&&!e.hideDayHeader&&n("div",{class:["v-calendar-weekly__head",`days__${y.value.length}`,...e.hideWeekNumber?[]:["v-calendar-weekly__head-weeknumbers"]],key:"calenderWeeklyHead"},[e.hideWeekNumber?"":n("div",{key:"weekNumber0",class:"v-calendar-weekly__head-weeknumber"},null),y.value.map(o=>n("div",{class:`v-calendar-weekly__head-weekday${e.hideWeekNumber?"":"-with-weeknumber"}`},[h[o]]))]),e.viewMode==="month"&&n("div",{key:"VCalendarMonth",class:["v-calendar-month__days",`days${e.hideWeekNumber?"":"-with-weeknumbers"}__${y.value.length}`,...e.hideWeekNumber?[]:["v-calendar-month__weeknumbers"]]},[J(d.value,y.value.length).map((o,N)=>[e.hideWeekNumber?"":n("div",{class:"v-calendar-month__weeknumber"},[g.value[N]]),o.map(m=>{var w;return n(Z,{color:a.isSameDay(a.date(),m.date)?"primary":void 0,day:m,title:m?a.format(m.date,"dayOfMonth"):"NaN",events:(w=e.events)==null?void 0:w.filter(E=>a.isSameDay(m.date,E.start)||a.isSameDay(m.date,E.end))},{event:t.event})})])]),e.viewMode==="week"&&l.value.map((o,N)=>{var m;return n(S,M(P,{day:o,dayIndex:N,events:(m=e.events)==null?void 0:m.filter(w=>a.isSameDay(w.start,o.date)||a.isSameDay(w.end,o.date))}),null)}),e.viewMode==="day"&&n(S,M(P,{day:c([r.value],a.date())[0],dayIndex:0,events:(W=e.events)==null?void 0:W.filter(o=>a.isSameDay(o.start,c([r.value],a.date())[0].date)||a.isSameDay(o.end,c([r.value],a.date())[0].date))}),null)])])}),{daysInMonth:d,daysInWeek:l,genDays:c}}});export{ae as V};
