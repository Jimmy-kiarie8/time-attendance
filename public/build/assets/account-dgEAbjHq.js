import{r as f,Q as W,i as a,o as v,c as k,w as l,a as m,b as t,y as h,u as r,d as q,f as d,e as w,t as b}from"./app-kuiK7TtZ.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O={key:0,class:"d-flex transition-fast-in-fast-out v-card--reveal text-h6 align-center justify-center",style:{height:"100%"}},X={class:"text-h5"},Y={class:"text-body-2"},G={__name:"account",setup(K){const i=f(!1),o=W().props.auth.user,C=f(""),E=f("success"),y=f(!1),g=f(null);async function A(c){i.value=c}function z(){g.value&&g.value.click()}async function B(c){const e=c.target.files[0];if(!e)return;const p=new FormData;p.append("file",e),console.log(o);try{const s=await axios.post(`/profile/${o.id}`,p,{headers:{"Content-Type":"multipart/form-data"}});console.log(s),o.profile_photo_url=s.data.data.profile_photo_url,N(s.data.message,"success")}catch(s){console.error("Error uploading file:",s),N("Failed to update avatar. Please try again.","error")}}function N(c,e){C.value=c,E.value=e,y.value=!0}return(c,e)=>{const p=a("v-icon"),s=a("v-btn"),F=a("v-expand-transition"),U=a("v-img"),T=a("v-avatar"),M=a("v-hover"),u=a("v-col"),I=a("v-row"),_=a("v-text-field"),x=a("v-card-text"),P=a("v-spacer"),D=a("v-card-actions"),V=a("v-card"),Z=a("v-list-item-title"),$=a("v-list-item-subtitle"),j=a("v-list-item"),H=a("v-list"),Q=a("v-snackbar"),R=a("v-container");return v(),k(R,null,{default:l(()=>[e[20]||(e[20]=m("h1",{class:"text-h4 mb-6"},"Profile",-1)),t(V,{class:"mb-6",variant:"tonal"},{default:l(()=>[t(x,null,{default:l(()=>[t(I,{align:"center"},{default:l(()=>[t(u,{cols:"auto"},{default:l(()=>[t(M,null,{default:l(({isHovering:n,props:S})=>[t(T,h({size:"100"},S,{class:"position-relative overflow-hidden"}),{default:l(()=>[t(U,{src:r(o).profile_photo_url||"https://play-lh.googleusercontent.com/Ieu-H2JARy4EVnrdxTse1jqfe3HWQOT16Eis6f8opR-Z_d_CfbxWXn1ea86aZEzygfiZ=w240-h480-rw",alt:"Avatar",cover:""},{default:l(()=>[t(F,null,{default:l(()=>[n?(v(),q("div",O,[t(s,{icon:"",onClick:z},{default:l(()=>[t(p,null,{default:l(()=>e[7]||(e[7]=[d("mdi-camera-outline")])),_:1})]),_:1})])):w("",!0)]),_:2},1024)]),_:2},1032,["src"])]),_:2},1040)]),_:1}),m("input",{type:"file",ref_key:"fileInput",ref:g,style:{display:"none"},onChange:B,accept:"image/*"},null,544)]),_:1}),t(u,null,{default:l(()=>[m("h2",X,b(r(o).name),1),m("p",Y,b(r(o).email),1)]),_:1}),i.value?w("",!0):(v(),k(u,{key:0,cols:"auto",onClick:e[0]||(e[0]=n=>A(!0))},{default:l(()=>[t(s,{color:"primary"},{default:l(()=>e[8]||(e[8]=[d("Edit")])),_:1})]),_:1}))]),_:1}),t(I,{class:"mt-6"},{default:l(()=>[t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"Name",variant:"outlined",modelValue:r(o).name,"onUpdate:modelValue":e[1]||(e[1]=n=>r(o).name=n),disabled:!i.value},null,8,["modelValue","disabled"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"Phone",variant:"outlined",modelValue:r(o).phone,"onUpdate:modelValue":e[2]||(e[2]=n=>r(o).phone=n),disabled:!i.value},null,8,["modelValue","disabled"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"Address",variant:"outlined",modelValue:r(o).address,"onUpdate:modelValue":e[3]||(e[3]=n=>r(o).address=n),disabled:!i.value},null,8,["modelValue","disabled"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"City",variant:"outlined",modelValue:r(o).city,"onUpdate:modelValue":e[4]||(e[4]=n=>r(o).city=n),disabled:!i.value},null,8,["modelValue","disabled"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"Country",variant:"outlined",disabled:!i.value},null,8,["disabled"])]),_:1}),t(u,{cols:"12",sm:"6"},{default:l(()=>[t(_,{clearable:"",density:"compact",label:"Timezone",variant:"outlined",disabled:!i.value},null,8,["disabled"])]),_:1})]),_:1})]),_:1}),i.value?(v(),k(D,{key:0},{default:l(()=>[t(P),t(s,{color:"primary",variant:"outlined"},{default:l(()=>e[9]||(e[9]=[d("Update")])),_:1}),t(s,{color:"error",variant:"outlined",onClick:e[5]||(e[5]=n=>A(!1))},{default:l(()=>e[10]||(e[10]=[d("Cancel")])),_:1})]),_:1})):w("",!0)]),_:1}),t(V,{class:"mb-6",variant:"tonal"},{default:l(()=>[t(x,null,{default:l(()=>[e[15]||(e[15]=m("h2",{class:"text-h6 mb-2"},"My Email Addresses",-1)),e[16]||(e[16]=m("p",{class:"text-body-2 mb-4"},"You can use the following email addresses to sign in to your account and also to reset your password if you ever forget it.",-1)),t(H,null,{default:l(()=>[t(j,null,{prepend:l(()=>[t(T,{color:"primary",size:"36"},{default:l(()=>[t(p,{color:"white"},{default:l(()=>e[11]||(e[11]=[d("mdi-email")])),_:1})]),_:1})]),append:l(()=>[t(p,{color:"primary"},{default:l(()=>e[13]||(e[13]=[d("mdi-crown")])),_:1})]),default:l(()=>[t(Z,null,{default:l(()=>[d(b(r(o).email),1)]),_:1}),t($,null,{default:l(()=>e[12]||(e[12]=[d("21 days ago")])),_:1})]),_:1})]),_:1}),t(s,{color:"primary",variant:"text","prepend-icon":"mdi-plus",class:"mt-4"},{default:l(()=>e[14]||(e[14]=[d(" Add Email Address ")])),_:1})]),_:1})]),_:1}),t(V,{class:"mb-6",variant:"tonal"},{default:l(()=>[t(x,null,{default:l(()=>[e[18]||(e[18]=m("h2",{class:"text-h6 mb-2"},"My Mobile Numbers",-1)),e[19]||(e[19]=m("p",{class:"text-body-2 mb-4"},"View and manage all of the mobile numbers associated with your account.",-1)),t(U,{src:"/path-to-your-placeholder-image.png",height:"200",contain:""}),t(s,{color:"primary","prepend-icon":"mdi-plus"},{default:l(()=>e[17]||(e[17]=[d(" Add Mobile Number ")])),_:1})]),_:1})]),_:1}),t(Q,{modelValue:y.value,"onUpdate:modelValue":e[6]||(e[6]=n=>y.value=n),color:E.value},{default:l(()=>[d(b(C.value),1)]),_:1},8,["modelValue","color"])]),_:1})}}},le=J(G,[["__scopeId","data-v-061ed691"]]);export{le as default};
