import{_ as B}from"./MainLayout-DCj_4SV5.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as L}from"./VCalendar-DeFLbFWf.js";import{i as a,o as m,c as f,w as n,a as U,b as l,I as N,f as i,t as g,d as j,g as H,F as O}from"./app-C40yS1Zs.js";const Y={components:{VCalendar:L,MainLayout:B},props:{data:Object},data:()=>({type:"month",types:[{value:"month",label:"Month"},{value:"week",label:"week"},{value:"day",label:"Day"}],weekday:[0,1,2,3,4,5,6],weekdays:[{title:"Sun - Sat",value:[0,1,2,3,4,5,6]},{title:"Mon - Sun",value:[1,2,3,4,5,6,0]},{title:"Mon - Fri",value:[1,2,3,4,5]},{title:"Mon, Wed, Fri",value:[1,3,5]}],value:[new Date],events:[],dialog:!1,selectedDate:null,selectedDateEvents:[]}),computed:{processedEvents(){console.log(this.$vuetify.theme.global.current.dark);const e={};this.events.forEach(s=>{const r=new Date(s.start).toDateString();e[r]||(e[r]=[]),e[r].push(s)});const t=[];return Object.entries(e).forEach(([s,r])=>{if(r.slice(0,2).forEach(d=>{t.push(d)}),r.length>2){const d=new Date(s);t.push({title:`+${r.length-2} more`,start:d,end:d,color:"#009688",textColor:this.$vuetify.theme.global.current.dark?"#f0f0f0":"#424242",timed:!1,more:!0,originalEvents:r.slice(2)})}}),t}},mounted(){this.getEvents()},methods:{getEvents(){const e=this.data.map(t=>({...t,start:new Date(t.start),end:new Date(new Date(t.end).setHours(new Date(t.end).getHours()+5))}));console.log("ðŸš€ ~ axios.get ~ events:",e),this.events=e},showMoreEvents(e,t){console.log(e);var s=null;t?s=new Date(e.start):s=new Date(e),this.selectedDate=s,console.log("Selected-date: ",s),this.selectedDateEvents=this.events.filter(r=>{const d=new Date(r.start);return d.getFullYear()===s.getFullYear()&&d.getMonth()===s.getMonth()&&d.getDate()===s.getDate()}),this.dialog=!0},getEventColor(e){return e.color}}},z={id:"calendar"};function I(e,t,s,r,d,c){const v=a("v-select"),p=a("v-sheet"),w=a("v-chip"),y=a("v-calendar"),_=a("v-card"),h=a("v-card-title"),D=a("v-icon"),k=a("v-list-item"),V=a("v-list"),b=a("v-card-text"),E=a("v-spacer"),M=a("v-btn"),C=a("v-card-actions"),S=a("v-dialog"),$=a("MainLayout");return m(),f($,{title:"Calendar",rail:!0,ref:"snackBarModal"},{default:n(()=>[U("div",z,[l(_,null,{default:n(()=>[l(p,{class:"d-flex",height:"54",tile:""},{default:n(()=>[l(v,{modelValue:e.type,"onUpdate:modelValue":t[0]||(t[0]=o=>e.type=o),items:e.types,"item-title":"label","item-value":"value",class:"ma-2",label:"View Mode",variant:"outlined",dense:"","hide-details":""},null,8,["modelValue","items"]),l(v,{modelValue:e.weekday,"onUpdate:modelValue":t[1]||(t[1]=o=>e.weekday=o),items:e.weekdays,class:"ma-2",label:"weekdays",variant:"outlined",dense:"","hide-details":""},null,8,["modelValue","items"])]),_:1}),l(p,null,{default:n(()=>[l(y,{ref:"calendar",modelValue:e.value,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value=o),events:c.processedEvents,"view-mode":e.type,weekdays:e.weekday},{event:n(({event:o})=>[l(w,{class:"event-chip",color:o.color||"#1976D2","prepend-icon":"mdi-circle",style:N({color:o.textColor||"white"}),onClick:u=>o.more?c.showMoreEvents(o,!0):c.showMoreEvents(o.start,!1)},{default:n(()=>[i(g(o.title),1)]),_:2},1032,["color","style","onClick"])]),_:1},8,["modelValue","events","view-mode","weekdays"])]),_:1})]),_:1}),l(S,{modelValue:e.dialog,"onUpdate:modelValue":t[4]||(t[4]=o=>e.dialog=o),"max-width":"500px"},{default:n(()=>[l(_,null,{default:n(()=>[l(h,null,{default:n(()=>[i(" Events for "+g(e.selectedDate?new Date(e.selectedDate).toLocaleDateString():""),1)]),_:1}),l(b,null,{default:n(()=>[l(V,{density:"compact",lines:"two"},{default:n(()=>[(m(!0),j(O,null,H(e.selectedDateEvents,(o,u)=>(m(),f(k,{key:u,value:u,subtitle:o.subtitle,title:o.title,color:o.color,rounded:"shaped"},{prepend:n(()=>[l(D,{color:o.color},{default:n(()=>t[5]||(t[5]=[i("mdi-circle")])),_:2},1032,["color"])]),_:2},1032,["value","subtitle","title","color"]))),128))]),_:1})]),_:1}),l(C,null,{default:n(()=>[l(E),l(M,{color:"primary",text:"",onClick:t[3]||(t[3]=o=>e.dialog=!1)},{default:n(()=>t[6]||(t[6]=[i("Close")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])]),_:1},512)}const A=F(Y,[["render",I]]);export{A as default};
