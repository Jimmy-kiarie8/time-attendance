import{r as c,D as Y,s as Z,i as a,o as i,c as u,w as o,b as l,f as V,t as g,d as f,g as L,a as $,F as b,e as r,V as h}from"./app-C40yS1Zs.js";const le={__name:"create",props:{clients:{type:Object,required:!0},modelRoute:{type:String,required:!0},title:{type:String,required:!0}},emits:["refresh"],setup(k,{expose:A,emit:ee}){const v=c(!1),C=c(!1),N=c("Updated"),j=c("black"),p=c(!1),t=Y({type:"Processing Fee",effect:"Credit",date:null,id_no:null,client_id:null,client_2_id:null,loan_id:null,loan_2_id:null,beneficiary:null,amount:null,remarks:null}),U=c(null);c([]);const O=["Processing Fee","Another Loan","Another Borrower","Legal Fee","Default Charges","Other Fee"];function S(){v.value=!0}function q(){v.value=!1}A({show:S});const w={"Processing Fee":{effect:!0,id_no:!1,client_id:!0},"Another Loan":{effect:!0,id_no:!0,client_id:!0,loan_id:!0,loan_2_id:!0},"Another Borrower":{effect:!0,client_id:!0,id_no:!1,client_2_id:!0},"Legal Fee":{effect:!1,client_id:!0,client_2_id:!0},"Default Charges":{effect:!0,client_id:!0},"Other Fee":{effect:!1,client_id:!0}};Z(()=>t.type,x);function x(){const s=w[t.type]||{};for(const e in t)e!=="type"&&!s[e]&&(t[e]="")}function _(s){return(w[t.type]||{})[s]||!1}function P(){p.value=!0,h.post("journals",t).then(s=>{p.value=!1,console.log(s)}).catch(s=>{p.value=!1,console.error(s)})}return(s,e)=>{const T=a("v-card-title"),E=a("v-list-item-title"),R=a("v-list-item"),I=a("v-list"),F=a("v-card"),z=a("v-divider"),m=a("v-select"),d=a("v-col"),y=a("v-text-field"),B=a("v-row"),G=a("v-card-text"),D=a("v-btn"),H=a("v-spacer"),J=a("v-card-actions"),K=a("v-dialog"),M=a("v-snackbar");return i(),u(B,{justify:"center"},{default:o(()=>[l(K,{persistent:"",modelValue:v.value,"onUpdate:modelValue":e[10]||(e[10]=n=>v.value=n),width:"800"},{default:o(()=>[l(F,null,{default:o(()=>[l(T,{class:"text-h5"},{default:o(()=>[V(" Create A "+g(k.title),1)]),_:1}),l(G,null,{default:o(()=>[U.value?(i(),u(F,{key:0,color:"error",variant:"tonal"},{default:o(()=>[l(I,{density:"compact"},{default:o(()=>[(i(!0),f(b,null,L(U.value,(n,Q)=>(i(),u(R,{key:Q},{default:o(()=>[l(E,null,{default:o(()=>[$("ul",null,[(i(!0),f(b,null,L(n,(W,X)=>(i(),f("li",{key:X},g(W),1))),128))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):r("",!0),l(z),l(B,null,{default:o(()=>[l(d,{cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.type,"onUpdate:modelValue":e[0]||(e[0]=n=>t.type=n),label:"Type",items:O,variant:"outlined",density:"compact",onChange:x},null,8,["modelValue"])]),_:1}),_("effect")?(i(),u(d,{key:0,cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.effect,"onUpdate:modelValue":e[1]||(e[1]=n=>t.effect=n),label:"Effect",items:["Credit","Debit"],variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):r("",!0),l(d,{cols:"12",md:"4"},{default:o(()=>[l(y,{modelValue:t.date,"onUpdate:modelValue":e[2]||(e[2]=n=>t.date=n),label:"Date",type:"date",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),t.client_id?(i(),u(d,{key:1,cols:"12",md:"4"},{default:o(()=>[l(y,{disabled:"",modelValue:t.client_id.id_no,"onUpdate:modelValue":e[3]||(e[3]=n=>t.client_id.id_no=n),label:"ID No",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})):r("",!0),_("client_id")?(i(),u(d,{key:2,cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.client_id,"onUpdate:modelValue":e[4]||(e[4]=n=>t.client_id=n),label:"Borrower",items:k.clients.data,variant:"outlined",density:"compact","item-value":"id","item-title":"name","return-object":""},null,8,["modelValue","items"])]),_:1})):r("",!0),_("client_2_id")?(i(),u(d,{key:3,cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.client_2_id,"onUpdate:modelValue":e[5]||(e[5]=n=>t.client_2_id=n),label:"Borrower",items:k.clients.data,variant:"outlined",density:"compact","item-value":"id","item-title":"name"},null,8,["modelValue","items"])]),_:1})):r("",!0),t.client_id?(i(),f(b,{key:4},[_("loan_id")?(i(),u(d,{key:0,cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.loan_id,"onUpdate:modelValue":e[6]||(e[6]=n=>t.loan_id=n),label:"Loan",items:t.client_id.loans,variant:"outlined",density:"compact","item-value":"id","item-title":"reference"},null,8,["modelValue","items"])]),_:1})):r("",!0)],64)):r("",!0),t.client_2_id?(i(),f(b,{key:5},[_("loan_2_id")?(i(),u(d,{key:0,cols:"12",md:"4"},{default:o(()=>[l(m,{modelValue:t.loan_2_id,"onUpdate:modelValue":e[7]||(e[7]=n=>t.loan_2_id=n),label:"Loan",items:t.client_2_id.loans,variant:"outlined",density:"compact","item-value":"id","item-title":"reference"},null,8,["modelValue","items"])]),_:1})):r("",!0)],64)):r("",!0),l(d,{cols:"12",md:"4"},{default:o(()=>[l(y,{modelValue:t.amount,"onUpdate:modelValue":e[8]||(e[8]=n=>t.amount=n),label:"Amount",type:"number",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1}),l(d,{cols:"12",md:"8"},{default:o(()=>[l(y,{modelValue:t.remarks,"onUpdate:modelValue":e[9]||(e[9]=n=>t.remarks=n),label:"Remarks",variant:"outlined",density:"compact"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(J,null,{default:o(()=>[l(D,{variant:"outlined",color:"red",onClick:q},{default:o(()=>e[12]||(e[12]=[V("Close")])),_:1}),l(H),l(D,{variant:"outlined",color:"primary",onClick:P,loading:p.value},{default:o(()=>e[13]||(e[13]=[V("Submit")])),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(M,{modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=n=>C.value=n),color:j.value},{default:o(()=>[V(g(N.value),1)]),_:1},8,["modelValue","color"])]),_:1})}}};export{le as default};
