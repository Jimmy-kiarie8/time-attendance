import{_ as x}from"./MainLayout-hLcii3OL.js";import{V as C,i as n,o as L,c as R,w as a,b as e,f as u,a as k}from"./app-CHx4gbMi.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={props:{clients:Object,branches:Object,loan_type:Object,officers:Object},components:{MainLayout:x},data(){return{form:{start_date:null,end_date:null,agent_id:null,report:null},search:"",page:1,itemsPerPage:5,data:[],headers:[],report_type:["Summary","Detailed"],reports:[{label:"Loan Book",value:"LoanBook"},{label:"Loans Listing",value:"LoanListing"},{label:"Loans Analysis",value:"LoanAnalysis"},{label:"Repayments",value:"Repayments"},{label:"Installments Failing Due",value:"InstallmentsFailingDue"},{label:"Installments In Arrears",value:"InstallmentsInArrears"},{label:"Days Collections",value:"DaysCollections"},{label:"Disbursements",value:"Disbursements"},{label:"Processing Fees",value:"Fees"},{label:"Missed Collections",value:"MissedCollections"},{label:"Portfolio At Risk",value:"PortfolioAtRisk"},{label:"Collateral Register",value:"CollateralRegister"},{label:"Collection Sheets",value:"CollectionSheets"}]}},methods:{getReport(){this.form.report&&C.post(this.form.report,this.form).then(r=>{console.log("ðŸš€ ~ file: index.vue:58 ~ axios.get ~ res:",r.data.headers),this.data=r.data.data,this.headers=r.data.headers})}},computed:{pageCount(){return Math.ceil(this.data.data.length/this.itemsPerPage)}}},w={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"};function B(r,t,m,I,l,c){const i=n("v-select"),s=n("v-col"),d=n("v-text-field"),p=n("v-btn"),_=n("v-row"),f=n("v-toolbar-title"),v=n("v-divider"),b=n("v-spacer"),y=n("v-toolbar"),V=n("v-data-table"),g=n("v-card"),h=n("MainLayout");return L(),R(h,{title:"Order Management"},{default:a(()=>[e(g,null,{default:a(()=>[e(_,null,{default:a(()=>[e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Report",items:l.reports,variant:"outlined","item-title":"label","item-value":"value",modelValue:l.form.report,"onUpdate:modelValue":t[0]||(t[0]=o=>l.form.report=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Borrowers",items:m.clients,variant:"outlined","item-title":"name","item-value":"id",modelValue:l.form.client_id,"onUpdate:modelValue":t[1]||(t[1]=o=>l.form.client_id=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Branches",items:m.branches,variant:"outlined","item-title":"name","item-value":"id",modelValue:l.form.client_id,"onUpdate:modelValue":t[2]||(t[2]=o=>l.form.client_id=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Loan Officer",items:m.officers,variant:"outlined","item-title":"name","item-value":"id",modelValue:l.form.client_id,"onUpdate:modelValue":t[3]||(t[3]=o=>l.form.client_id=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Loan Type",items:m.loan_type,variant:"outlined","item-title":"name","item-value":"id",modelValue:l.form.client_id,"onUpdate:modelValue":t[4]||(t[4]=o=>l.form.client_id=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(i,{clearable:"",chips:"",label:"Report Type Type",items:l.report_type,variant:"outlined","item-title":"name","item-value":"id",modelValue:l.form.client_id,"onUpdate:modelValue":t[5]||(t[5]=o=>l.form.client_id=o),density:"compact"},null,8,["items","modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(d,{clearable:"",modelValue:l.form.start_date,"onUpdate:modelValue":t[6]||(t[6]=o=>l.form.start_date=o),label:"Start Date",variant:"outlined",type:"date",density:"compact"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"2"},{default:a(()=>[e(d,{clearable:"",modelValue:l.form.end_date,"onUpdate:modelValue":t[7]||(t[7]=o=>l.form.end_date=o),label:"End Date",variant:"outlined",type:"date",density:"compact"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",sm:"1"},{default:a(()=>[e(p,{color:"primary",onClick:c.getReport},{default:a(()=>t[9]||(t[9]=[u("Filer")])),_:1},8,["onClick"])]),_:1})]),_:1}),k("div",w,[e(V,{headers:l.headers,items:l.data.data,"sort-by":[{key:"product_name",order:"asc"}],class:"elevation-2",search:l.search},{top:a(()=>[e(y,{flat:""},{default:a(()=>[e(f,null,{default:a(()=>t[10]||(t[10]=[u("Reports")])),_:1}),e(v,{class:"mx-4",inset:"",vertical:""}),e(b)]),_:1}),e(d,{modelValue:l.search,"onUpdate:modelValue":t[8]||(t[8]=o=>l.search=o),"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1},8,["headers","items","search"])])]),_:1})]),_:1})}const O=D(U,[["render",B],["__scopeId","data-v-850a276e"]]);export{O as default};
