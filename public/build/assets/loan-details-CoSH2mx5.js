import{r as i,D as K,i as a,o as $,c as A,w as l,e as L,b as t,f as n,a as b,t as o,V as O}from"./app-C40yS1Zs.js";const Q={class:"d-flex justify-space-between align-center"},W={class:"text-right"},X={class:"text-h6"},Y={class:"text-subtitle-1"},h={__name:"loan-details",props:{modelRoute:{type:String,required:!0}},setup(P,{expose:U}){const B=P,m=i(!1),D=i(!1),C=i("Updated"),k=i("black");i(!1),K({});const u=i([]),g=i("loan");function F(f){return{Rejected:"error",Approved:"success",Pending:"warning",Active:"primary"}[f]||"grey"}function w(f){return f?new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}async function R(f){try{const e=await O.get(`/${B.modelRoute}/${f}`);u.value=e.data,console.log("formData",u.value)}catch(e){console.error("Failed to fetch data:",e),D.value=!0,k.value="error",C.value="Failed to load data"}}function S(f){console.log(f),m.value=!0,R(f.id)}return U({show:S}),(f,e)=>{const j=a("v-btn"),I=a("v-tab"),q=a("v-tabs"),T=a("v-toolbar"),p=a("v-card-title"),H=a("v-chip"),M=a("v-card-item"),v=a("v-card"),c=a("v-col"),x=a("v-row"),s=a("v-list-item-title"),_=a("v-list-item-subtitle"),r=a("v-list-item"),V=a("v-list"),y=a("v-card-text"),z=a("v-container"),N=a("v-window-item"),E=a("v-window"),G=a("v-dialog"),J=a("v-snackbar");return m.value?($(),A(x,{key:0,justify:"center"},{default:l(()=>[t(G,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=d=>m.value=d),transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[t(v,null,{default:l(()=>[t(T,null,{default:l(()=>[t(j,{icon:"mdi-close",onClick:e[0]||(e[0]=d=>m.value=!1)}),t(q,{modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=d=>g.value=d)},{default:l(()=>[t(I,{value:"loan"},{default:l(()=>e[5]||(e[5]=[n("Loan")])),_:1}),t(I,{value:"history"},{default:l(()=>e[6]||(e[6]=[n("Comment&History")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(y,null,{default:l(()=>[t(E,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=d=>g.value=d)},{default:l(()=>[t(N,{value:"loan"},{default:l(()=>[u.value?($(),A(z,{key:0},{default:l(()=>[t(x,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[t(v,{class:"mb-4"},{default:l(()=>[t(M,null,{default:l(()=>[b("div",Q,[b("div",null,[t(p,{class:"text-h5"},{default:l(()=>[n(" Loan Reference: "+o(u.value.reference),1)]),_:1}),t(H,{color:F(u.value.status),class:"mt-2"},{default:l(()=>[n(o(u.value.status),1)]),_:1},8,["color"])]),b("div",W,[b("div",X,"Amount: $"+o(u.value.amount),1),b("div",Y,"Balance: $"+o(u.value.balance),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),t(x,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[t(v,null,{default:l(()=>[t(p,null,{default:l(()=>e[7]||(e[7]=[n("Client Information")])),_:1}),t(y,null,{default:l(()=>[t(V,null,{default:l(()=>[t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[8]||(e[8]=[n("Client Name")])),_:1}),t(_,null,{default:l(()=>{var d;return[n(o((d=u.value.client)==null?void 0:d.name),1)]}),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[9]||(e[9]=[n("ID Number")])),_:1}),t(_,null,{default:l(()=>[n(o(u.value.id_no),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[10]||(e[10]=[n("Branch")])),_:1}),t(_,null,{default:l(()=>{var d;return[n(o((d=u.value.branch)==null?void 0:d.name),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(v,null,{default:l(()=>[t(p,null,{default:l(()=>e[11]||(e[11]=[n("Loan Details")])),_:1}),t(y,null,{default:l(()=>[t(V,null,{default:l(()=>[t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[12]||(e[12]=[n("Loan Type")])),_:1}),t(_,null,{default:l(()=>{var d;return[n(o((d=u.value.loantype)==null?void 0:d.name),1)]}),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[13]||(e[13]=[n("Interest Rate")])),_:1}),t(_,null,{default:l(()=>[n(o(u.value.interest_rate)+"%",1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[14]||(e[14]=[n("Interest Type")])),_:1}),t(_,null,{default:l(()=>[n(o(u.value.interest_type),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[15]||(e[15]=[n("Frequency")])),_:1}),t(_,null,{default:l(()=>[n(o(u.value.frequency),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(v,null,{default:l(()=>[t(p,null,{default:l(()=>e[16]||(e[16]=[n("Payment Information")])),_:1}),t(y,null,{default:l(()=>[t(V,null,{default:l(()=>[t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[17]||(e[17]=[n("Payment Per Month")])),_:1}),t(_,null,{default:l(()=>[n("$"+o(u.value.payment_per_installment),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[18]||(e[18]=[n("Installments")])),_:1}),t(_,null,{default:l(()=>[n(o(u.value.installments),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[19]||(e[19]=[n("Processing Fee")])),_:1}),t(_,null,{default:l(()=>[n("$"+o(u.value.processing_fee),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[20]||(e[20]=[n("Due Date")])),_:1}),t(_,null,{default:l(()=>[n(o(w(u.value.due_date)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(v,null,{default:l(()=>[t(p,null,{default:l(()=>e[21]||(e[21]=[n("Important Dates")])),_:1}),t(y,null,{default:l(()=>[t(V,null,{default:l(()=>[t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[22]||(e[22]=[n("Application Date")])),_:1}),t(_,null,{default:l(()=>[n(o(w(u.value.application_date)),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[23]||(e[23]=[n("Disbursed At")])),_:1}),t(_,null,{default:l(()=>[n(o(w(u.value.disbursed_at)),1)]),_:1})]),_:1}),t(r,null,{default:l(()=>[t(s,null,{default:l(()=>e[24]||(e[24]=[n("Last Payment")])),_:1}),t(_,null,{default:l(()=>[n(o(w(u.value.last_payment)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):L("",!0)]),_:1}),t(N,{value:"history"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(J,{modelValue:D.value,"onUpdate:modelValue":e[4]||(e[4]=d=>D.value=d),color:k.value},{default:l(()=>[n(o(C.value),1)]),_:1},8,["modelValue","color"])]),_:1})):L("",!0)}}};export{h as default};
