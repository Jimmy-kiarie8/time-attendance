import{r,x as E,V as x,i as c,o,d as f,a as _,F as D,g as C,b as u,w as l,c as d,t as b,_ as I,e as h,f as U}from"./app-CgSA-0rK.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={__name:"settings",props:{formData:Object},setup(n){const B=n,g=r(""),y=r("success"),i=r(!1),m=r(!1),V=r([]),N=e=>{switch(e){case"text":case"number":case"date":return"v-text-field";case"select":return"v-select";case"switch":return"v-switch";default:return"v-text-field"}},S=async()=>{m.value=!0;try{const e=await x.post("/settings",B.formData);console.log(e),m.value=!1,k(e.data.message,"success")}catch(e){m.value=!1,console.error("Error uploading file:",e),k("Failed to update avatar. Please try again.","error")}};function k(e,a){g.value=e,y.value=a,i.value=!0}return E(async()=>{const e=await x.get("/data/settings.json");V.value=e.data}),(e,a)=>{const v=c("v-col"),F=c("v-switch"),w=c("v-row"),T=c("v-btn"),j=c("v-snackbar");return o(),f("div",null,[a[2]||(a[2]=_("br",null,null,-1)),(o(!0),f(D,null,C(V.value,s=>(o(),d(w,{key:s.title},{default:l(()=>[u(v,{cols:"12",sm:"3"},{default:l(()=>[_("h3",null,b(s.title),1),_("p",null,b(s.description),1)]),_:2},1024),u(v,{cols:"12",sm:"9"},{default:l(()=>[u(w,null,{default:l(()=>[(o(!0),f(D,null,C(s.fields,t=>(o(),d(v,{key:t.label,cols:"12",sm:"4"},{default:l(()=>[t.type!=="switch"?(o(),d(I(N(t.type)),{key:0,modelValue:n.formData[t.model],"onUpdate:modelValue":p=>n.formData[t.model]=p,label:t.label,items:t.options||[],variant:"outlined",density:"compact","item-value":"value"},null,8,["modelValue","onUpdate:modelValue","label","items"])):h("",!0),t.type==="switch"?(o(),d(F,{key:1,modelValue:n.formData[t.model],"onUpdate:modelValue":p=>n.formData[t.model]=p,label:t.label,color:"success",inset:""},null,8,["modelValue","onUpdate:modelValue","label"])):h("",!0)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),u(T,{color:"primary",onClick:S,variant:"tonal",loading:m.value},{default:l(()=>a[1]||(a[1]=[U("Update")])),_:1},8,["loading"]),u(j,{modelValue:i.value,"onUpdate:modelValue":a[0]||(a[0]=s=>i.value=s),color:y.value},{default:l(()=>[U(b(g.value),1)]),_:1},8,["modelValue","color"])])}}},q=L(M,[["__scopeId","data-v-63dc8201"]]);export{q as default};
