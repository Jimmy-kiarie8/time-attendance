import{r as f,D as Q,i as a,o as L,c as P,w as l,e as U,b as t,f as n,a as g,t as d,V as W}from"./app-DCy3SzMC.js";const X={class:"d-flex justify-space-between align-center"},Y={class:"text-right"},Z={class:"text-h6"},h={class:"text-subtitle-1"},tl={__name:"show",props:{modelRoute:{type:String,required:!0}},setup(B,{expose:F}){const R=B,v=f(!1),D=f(!1),k=f("Updated"),I=f("black");f(!1),Q({});const u=f([]),w=f("loan");function S(i){return{Rejected:"error",Approved:"success",Pending:"warning",Active:"primary"}[i]||"grey"}function x(i){return i?new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A"}async function $(i){try{const e=await W.get(`/${R.modelRoute}/${i}`);u.value=e.data,console.log("formData",u.value)}catch(e){console.error("Failed to fetch data:",e),D.value=!0,I.value="error",k.value="Failed to load data"}}function j(i){console.log(i),v.value=!0,$(i.id)}return F({show:j}),(i,e)=>{const q=a("v-btn"),N=a("v-tab"),T=a("v-tabs"),K=a("v-toolbar"),p=a("v-card-title"),H=a("v-chip"),M=a("v-card-item"),m=a("v-card"),c=a("v-col"),C=a("v-row"),V=a("v-icon"),s=a("v-list-item-title"),r=a("v-list-item-subtitle"),_=a("v-list-item"),y=a("v-list"),b=a("v-card-text"),z=a("v-list-subheader"),E=a("v-container"),A=a("v-window-item"),G=a("v-window"),J=a("v-dialog"),O=a("v-snackbar");return v.value?(L(),P(C,{key:0,justify:"center"},{default:l(()=>[t(J,{modelValue:v.value,"onUpdate:modelValue":e[3]||(e[3]=o=>v.value=o),transition:"dialog-bottom-transition",fullscreen:""},{default:l(()=>[t(m,null,{default:l(()=>[t(K,null,{default:l(()=>[t(q,{icon:"mdi-close",onClick:e[0]||(e[0]=o=>v.value=!1)}),t(T,{modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=o=>w.value=o)},{default:l(()=>[t(N,{value:"loan"},{default:l(()=>e[5]||(e[5]=[n("Loan")])),_:1}),t(N,{value:"history"},{default:l(()=>e[6]||(e[6]=[n("Comment&History")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(b,null,{default:l(()=>[t(G,{modelValue:w.value,"onUpdate:modelValue":e[2]||(e[2]=o=>w.value=o)},{default:l(()=>[t(A,{value:"loan"},{default:l(()=>[u.value?(L(),P(E,{key:0},{default:l(()=>[t(C,null,{default:l(()=>[t(c,{cols:"12"},{default:l(()=>[t(m,{class:"mb-4"},{default:l(()=>[t(M,null,{default:l(()=>[g("div",X,[g("div",null,[t(p,{class:"text-h5"},{default:l(()=>[n(" Loan Reference: "+d(u.value.reference),1)]),_:1}),t(H,{color:S(u.value.status),class:"mt-2"},{default:l(()=>[n(d(u.value.status),1)]),_:1},8,["color"])]),g("div",Y,[g("div",Z,"Amount: Ksh "+d(u.value.amount),1),g("div",h,"Balance: Ksh "+d(u.value.balance),1)])])]),_:1})]),_:1})]),_:1})]),_:1}),t(C,null,{default:l(()=>[t(c,{cols:"12",md:"6"},{default:l(()=>[t(m,null,{default:l(()=>[t(p,null,{default:l(()=>e[7]||(e[7]=[n("Client Information")])),_:1}),t(b,null,{default:l(()=>[t(y,null,{default:l(()=>[t(_,{color:"primary",rounded:"xl"},{prepend:l(()=>[t(V,null,{default:l(()=>e[8]||(e[8]=[n("mdi-account-multiple")])),_:1})]),default:l(()=>[t(s,null,{default:l(()=>e[9]||(e[9]=[n("Client Name")])),_:1}),t(r,null,{default:l(()=>{var o;return[n(d((o=u.value.client)==null?void 0:o.name),1)]}),_:1})]),_:1}),t(_,{color:"primary",rounded:"xl"},{prepend:l(()=>[t(V,null,{default:l(()=>e[10]||(e[10]=[n("mdi-card-account-details")])),_:1})]),default:l(()=>[t(s,null,{default:l(()=>e[11]||(e[11]=[n("ID Number")])),_:1}),t(r,null,{default:l(()=>[n(d(u.value.id_no),1)]),_:1})]),_:1}),t(_,{color:"primary",rounded:"xl"},{prepend:l(()=>[t(V,null,{default:l(()=>e[12]||(e[12]=[n("mdi-source-branch-check")])),_:1})]),default:l(()=>[t(s,null,{default:l(()=>e[13]||(e[13]=[n("Branch")])),_:1}),t(r,null,{default:l(()=>{var o;return[n(d((o=u.value.branch)==null?void 0:o.name),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(y,null,{default:l(()=>[t(z,null,{default:l(()=>e[14]||(e[14]=[n("Client Information")])),_:1}),t(_,{color:"primary",rounded:"xl"},{prepend:l(()=>[t(V,null,{default:l(()=>e[15]||(e[15]=[n("mdi-account-multiple")])),_:1})]),default:l(()=>[t(s,null,{default:l(()=>e[16]||(e[16]=[n("Client Name")])),_:1}),t(r,null,{default:l(()=>{var o;return[n(d((o=u.value.client)==null?void 0:o.name),1)]}),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(m,null,{default:l(()=>[t(p,null,{default:l(()=>e[17]||(e[17]=[n("Loan Details")])),_:1}),t(b,null,{default:l(()=>[t(y,null,{default:l(()=>[t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[18]||(e[18]=[n("Loan Type")])),_:1}),t(r,null,{default:l(()=>{var o;return[n(d((o=u.value.loantype)==null?void 0:o.name),1)]}),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[19]||(e[19]=[n("Interest Rate")])),_:1}),t(r,null,{default:l(()=>[n(d(u.value.interest_rate)+"%",1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[20]||(e[20]=[n("Interest Type")])),_:1}),t(r,null,{default:l(()=>[n(d(u.value.interest_type),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[21]||(e[21]=[n("Frequency")])),_:1}),t(r,null,{default:l(()=>[n(d(u.value.frequency),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(m,null,{default:l(()=>[t(p,null,{default:l(()=>e[22]||(e[22]=[n("Payment Information")])),_:1}),t(b,null,{default:l(()=>[t(y,null,{default:l(()=>[t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[23]||(e[23]=[n("Payment Per Month")])),_:1}),t(r,null,{default:l(()=>[n("$"+d(u.value.payment_per_installment),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[24]||(e[24]=[n("Installments")])),_:1}),t(r,null,{default:l(()=>[n(d(u.value.installments),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[25]||(e[25]=[n("Processing Fee")])),_:1}),t(r,null,{default:l(()=>[n("$"+d(u.value.processing_fee),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[26]||(e[26]=[n("Due Date")])),_:1}),t(r,null,{default:l(()=>[n(d(x(u.value.due_date)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{cols:"12",md:"6"},{default:l(()=>[t(m,null,{default:l(()=>[t(p,null,{default:l(()=>e[27]||(e[27]=[n("Important Dates")])),_:1}),t(b,null,{default:l(()=>[t(y,null,{default:l(()=>[t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[28]||(e[28]=[n("Application Date")])),_:1}),t(r,null,{default:l(()=>[n(d(x(u.value.application_date)),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[29]||(e[29]=[n("Disbursed At")])),_:1}),t(r,null,{default:l(()=>[n(d(x(u.value.disbursed_at)),1)]),_:1})]),_:1}),t(_,null,{default:l(()=>[t(s,null,{default:l(()=>e[30]||(e[30]=[n("Last Payment")])),_:1}),t(r,null,{default:l(()=>[n(d(x(u.value.last_payment)),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):U("",!0)]),_:1}),t(A,{value:"history"})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(O,{modelValue:D.value,"onUpdate:modelValue":e[4]||(e[4]=o=>D.value=o),color:I.value},{default:l(()=>[n(d(k.value),1)]),_:1},8,["modelValue","color"])]),_:1})):U("",!0)}}};export{tl as default};
