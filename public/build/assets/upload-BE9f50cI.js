import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{i as e,o as x,c as b,w as t,b as l,f as i,t as k}from"./app-DCy3SzMC.js";const C={props:{modelRoute:String},components:{},data(){return{dialog:!1,file:null,form:{},loading:!1,snackbar:!1,text:"Suppliers Created"}},mounted(){},methods:{handleFileUpload(){if(this.file=this.$refs.fileUpload.files[0],!this.file)return;this.loading=!0;const a=new FormData;a.append("file",this.file),axios.post(`${this.modelRoute}-upload`,a,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>{this.loading=!1,console.log("File uploaded successfully",o)}).catch(o=>{this.loading=!1,console.error("Error uploading file",o)})},close(){this.dialog=!1},show(){this.dialog=!0}}};function U(a,o,V,w,n,r){const c=e("v-file-input"),p=e("v-card-text"),d=e("v-btn"),u=e("v-spacer"),f=e("v-card-actions"),_=e("v-card"),m=e("v-dialog"),v=e("v-snackbar"),g=e("v-row");return x(),b(g,{justify:"center"},{default:t(()=>[l(m,{persistent:"",modelValue:n.dialog,"onUpdate:modelValue":o[0]||(o[0]=s=>n.dialog=s),width:"800"},{default:t(()=>[l(_,{title:"Upload products",subtitle:"csv/xlsx"},{default:t(()=>[l(p,null,{default:t(()=>[l(c,{clearable:"",label:"File input",variant:"solo-filled",ref:"fileUpload"},null,512)]),_:1}),l(f,null,{default:t(()=>[l(d,{"prepend-icon":"mdi-close",variant:"tonal",onClick:r.close,color:"error"},{default:t(()=>o[2]||(o[2]=[i(" Close ")])),_:1},8,["onClick"]),l(u),l(d,{"prepend-icon":"mdi-upload",variant:"tonal",loading:n.loading,onClick:r.handleFileUpload,color:"primary"},{default:t(()=>o[3]||(o[3]=[i(" Upload ")])),_:1},8,["loading","onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(v,{modelValue:n.snackbar,"onUpdate:modelValue":o[1]||(o[1]=s=>n.snackbar=s)},{default:t(()=>[i(k(n.text),1)]),_:1},8,["modelValue"])]),_:1})}const D=h(C,[["render",U]]);export{D as default};
